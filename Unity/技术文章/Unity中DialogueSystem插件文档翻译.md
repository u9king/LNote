# Unity中DialogueSystem插件文档翻译

## Unity的对话系统

### 欢迎来到Unity的对话系统！

对话系统是Unity的一个分支对话系统。它不需要脚本即可编辑并且设计得方便程序员进行拓展。

Unity的对话系统会使你：

- 用逻辑分支编写交互式对话
- 展示对话用一个灵活，完整的定制化UI系统
- 定义问题/人物给玩家来完成
- 播放过长动画序列，例如相机片段和音频
- 保存和加载游戏，依据场景变化保存游戏数据
- 用本地化来用不同语言展示文本和播放动画序列
- 导入和导出从不同格式例如：artity:草稿、聊天映射器和CSV格式

### 在手册中

在本手册中包含下列内容：

- 开始——安装，升级，样例和快速开始
- 对话编辑器——如何编写内容
- 对话管理器——如何设置主要对话系统游戏对象
- 触发和交互——如何设置游戏内的交互
- 对话UIs——如何设置对话UIs
- 逻辑和Lua——如何定义条件和用变量工作
- 过场序列(Cutscene)–如何设计过场序列
- 问题——如何编写和执行问题
- 保存系统——如何保存和加载数据
- 本地化——如何添加语言本地化
- 脚本化——编程参考
- 导入和导出——如何导入和导出不同格式
- 第三方融合——如何用对话系统与别的资产相结合
- 教程——手把手知道一个通用任务（所有视频教程）
- 组件参考
- 快问快答
- 版本说明

### 如何获得帮助

我们在这里提供帮助！如何你被困扰或者有很多问题，无论何时请我们来获得支持在pixelcrushers.com或者访问 https://pixelcrushers.com.我们尽全力24小时回复邮件。如果你没有收到回复在24小时之内，请检查您的垃圾邮件。

### 开始

#### 安装

提示：如果要从1.x版本升级，请先阅读从1.x升级中的重要指示。

Unity的对话系统需要Unity2018.4以上版本。再开始前，打开包管理器窗口接着导入Unity的对话系统。将会有以下文件夹添加到你的项目中：

- 插件(Plugins)→像素破碎机(Pixel Crushers)→对话系统(Dialogue System):这就是对话系统
- 插件(Plugins)→像素破碎机(Pixel Crushers)→通用(Common):像素破碎机产品的核心脚本

2D支持：如果你的项目用的是2D物理，参见使用2D物理支持。

#### 从1.X版本升级

如果你不需要从1.X版本升级，跳过这个部分到样例场景即可。（点击这里浏览视频版本）

如果你正在从1.X版本升级，你必须要根据以下步骤来执行：

1.备份你的项目

2.如果你的项目用的是Unity5.x，你必须把先把强制文本序列化（Force Text serialization first）

- 选择菜单下的编辑Edit→项目设置Project Settings→编辑者

- 接着改变项目序列化Asset Serialization到强制文本Force Text和版本控制到可见Meta文件

  1.如果你的项目包含在Unity4.x创建的资源，请阅读下面的注释

  2.删除完整的对话系统文件夹。（如果你正在使用Unity5.x，不要做这些知道你已经转换到强制文本序列化）

  - 如果你已经将任何第三方支持文件夹移出了 Dialogue System 文件夹，也请将它们删除。
  - 确保你的项目依然能够变异。如果你有一些额外的脚本是基于对话系统的，你应该把它们导出作为临时的Unity包，删除他们，接着在重新完成升级之后把他们导回来。

  3.从资源商店中导入对话系统给Unity2.x

  4.运行工具→像素破碎者→对话系统→工具→运行1x到2x升级

  注意：如果项目中有任何编译错误，将无法运行更新程序。解决编译错误后，菜单项应会变为可用。

  如果你有任何关于升级过程的问题，请联系我们。
#### 关于 Unity 4.x 资源的注意事项

  对话系统内部脚本参考(GUIDs:Globally Unique Identifiers也叫全局唯一标识符)变化从1.x到2.x.更新工具定位具有过时1.xGUID的资产，并将他们重定向到新的2.xGUID。Unity可以存储资源，泪如场景文件和对话数据库，通过二进制或者文本的形式。这个过程叫做序列化。升级工具必须临时转换资产到文本系列化来升级对话系统的GUIDs。如果你的项目包含资产是通过Unity4进行的二进制序列化，Unity并不会将他们转换成文本序列化。这不仅限于对话系统；这是Unity的32位与64位的限制。在这种情况下，你必须在Unity4中打开他们，将他们转换成文本序列化，导出作为资产，并且在更新之前导入这些资产到你的项目中。

#### 更新注意事项

2.x版本做了如下改动：

- Unity的对话系统转移到了Plugins文件夹中。
- 源代码现在直接在项目中，而不再作为预编译DLL的Unity包文件。
- 旧版的Unity GUI和UnityUI对话界面子界面已被弃用，取而代之的是更强大且灵活的标准UI子系统，旧系统依然可用，但不再显示在组件菜单或检视器面板的添加组件按钮中。
- 触发组件，例如对话除法器和任务除法器，已合并为一个更简单、更优化的对话系统除法器。旧组件依然受支持，但推荐使用的触发器组件是现在对话系统的触发器。

#### 下一步

- 演示场景
- 概述
- 快速开始

#### 演示场景

演示场景保存在插件→像素破碎者→对话系统→演示。运行它就能看见对话系统是如何工作的了。

URP/HDRP注释：如果你的项目用了URP或者HDRP，在运行对话系统职前下载并且导入相关的材料包。

#### 如何运行

- 用方向键或者WASD键可以移动
- 用鼠标观察场景
- 观察可交互的物体并且用空格键来与之交互
- 鼠标按下左键来进行射击
- 按下Escape键来打开暂停菜单

注释：如果您在现有的项目中使用对话系统，并且玩家穿过地板掉落，可能是因为演示项目使用了Unity默认物理设置。

